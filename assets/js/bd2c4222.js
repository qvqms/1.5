"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[8754,2433],{40295:(e,t,a)=>{a.d(t,{O9:()=>p,ST:()=>x,dJ:()=>h,f8:()=>_,hQ:()=>w,t4:()=>m,zY:()=>c});var r=a(57468),l=a(80661),o=a.n(l),n=a(20918),s=a(62190),i=a(55332);const p={font:["rgba(248, 248, 248, 1)","rgba(28, 28, 30, 1)","rgba(58, 58, 60, 1)","rgba(95, 95, 99, 1)","rgba(142, 142, 147, 1)","rgba(176, 176, 182, 1)","rgba(199, 199, 204, 1)"],background:["rgba(248, 248, 248, 1)","rgba(58, 58, 60, 1)","rgba(28, 28, 30, 1)","rgba(244, 171, 18, 1)","rgba(74, 197, 92, 1)","rgba(35, 207, 168, 1)","rgba(67, 133, 241, 1)","rgba(56, 100, 255, 1)","rgba(118, 33, 249, 1)","rgba(224, 78, 150, 1)","rgba(224, 78, 78, 1)","rgba(253, 90, 90, 1)","rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"]},g=["rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"],c=()=>(0,r.Z)(g),m=Array(20).fill(0).map(((e,t)=>{const a=`${t+1}`.padStart(2,"0");return{bgImage:{large:`${n.c1}/widget-background/background${a}_larg.jpg`,medium:`${n.c1}/widget-background/background${a}_medium.jpg`,small:`${n.c1}/widget-background/background${a}_small.jpg`},thumbnail:`${n.c1}/widget-background/background${a}.jpg`}})),d=(e,t)=>{let a=!1;e.isLeapYear()&&1===e.month()&&29===e.date()&&(a=!0);let r=(0,s.sG)(e.format(`${t}-MM-DD`));return a&&!r.isLeapYear()&&(r=r.add(-1,"day")),r.valueOf()>=f.valueOf()||(r=(0,s.sG)(e.format(`${t+1}-MM-DD`)),a&&!r.isLeapYear()&&(r=r.add(-1,"day"))),r},y=e=>{const t=i.q7.fromDate(new Date(e)),a=i.q7.fromDate(new Date).getYear(),r=o()((0,s.EJ)({year:a,month:t.getMonth(),day:t.getDay()}));return r.valueOf()>=f.valueOf()?r:o()((0,s.EJ)({year:a+1,month:t.getMonth(),day:t.getDay()}))},b=e=>{if(e.date()>=f.date())return(0,s.sG)(`${f.year()}-${f.month()+1}-${Math.min(f.daysInMonth(),e.date())}`);const t=f.add(1,"month");return(0,s.sG)(`${t.year()}-${t.month()+1}-${Math.min(t.daysInMonth(),e.date())}`)},u=e=>{const t=i.q7.fromDate(new Date),a=i.q7.fromDate(new Date(e)),r=t.getDay(),l=a.getDay();if(l>=r)return o()((0,s.EJ)({year:t.getYear(),month:t.getMonth(),day:l}));const n=i.o7.fromYm(t.getYear(),t.getMonth()).next(1);return o()((0,s.EJ)({year:n.getYear(),month:n.getMonth(),day:l}))},x=e=>{const t=Date.now(),a=o()().endOf("day").valueOf()+1;return window.setTimeout((()=>{try{e(a),x(e)}catch(e){}}),a-t)};let f=o()().startOf("day"),S=f.year();x((()=>{f=o()(),S=f.year()}));const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!e)return 0;if(e>=f.valueOf())return o()(e).diff(f,"day");if("lunar"===t){return u(e).diff(f,"day")}const a=o()(e),r=b(a),l=r.diff(f,"day");return l},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!e)return 0;if(e>=f.valueOf())return o()(e).diff(f,"day");if("lunar"===t){return y(e).diff(f,"day")}const a=o()(e),r=d(a,S),l=r.diff(f,"day");return l},_=e=>{const t=Math.floor(e/86400);e-=86400*t;const a=Math.floor(e/3600)%24;e-=3600*a;const r=Math.floor(e/60)%60;return{d:t,h:a,m:r,s:(e-=60*r)%60}}},89043:(e,t,a)=>{a.d(t,{S:()=>l});var r=a(20918);const l={fontColor:"rgba(248, 248, 248, 1)",bgType:"image",bgColor:(0,a(40295).zY)(),bgImageColor:"",bgImage:{large:`${r.c1}/widget-background/background18_larg.jpg`,medium:`${r.c1}/widget-background/background18_medium.jpg`,small:`${r.c1}/widget-background/background18_small.jpg`},bgMask:20}},90862:(e,t,a)=>{a.d(t,{S:()=>n});var r=a(10435),l=a(89043),o=a(92433);const n=(0,r.Q_)("timer-year-modal",{state:()=>({timerStyle:l.S}),actions:{setStyle(e){this.timerStyle={...this.timerStyle,...e}},getOriginList(){const e=(0,o.useTimerYearStore)();this.timerStyle={...e.timerStyle}},saveStyle(){(0,o.useTimerYearStore)().saveStyle(this.timerStyle)}}})},92433:(e,t,a)=>{a.r(t),a.d(t,{useTimerYearStore:()=>b,widgetInfo:()=>g});var r=a(10435),l=a(89043),o=a(43747),n=a(40295),s=a(80661),i=a.n(s),p=a(59590);const g=(0,o.E0)("widget-timer-year"),c=()=>i()().endOf("year").valueOf(),m=e=>{const t=i()(e+1).diff(i()(),"second");return(0,n.f8)(t)},d=()=>{const e=i()(),t=e.endOf("year").diff(e.startOf("year"),"day")+1,a=e.diff(e.startOf("year"),"day");return Number((a/t*100).toFixed(2))},y=c(),b=(0,r.Q_)(p.BU.timerYear,{syncStorage:{watch:["timerStyle"]},syncCloud:{watch:["timerStyle"]},state:()=>({modalShow:!1,modalState:{size:"s",openType:"add"},timerStyle:l.S,yearEndTime:y,year:i()().year(),gapTime:m(y),percent:d()}),actions:{updateDay(){this.yearEndTime=c(),this.year=i()().year(),this.percent=d()},updateGapDate(){this.gapTime=m(this.yearEndTime)},openModal(e){this.modalState=e,this.modalShow=!0},closeModal(){this.modalShow=!1},saveStyle(e){this.timerStyle={...e}}}});(0,n.ST)((()=>{b().updateDay()})),setInterval((()=>{b().updateGapDate()}),1e3)},61101:(e,t,a)=>{a.d(t,{Z:()=>w});var r=a(57268),l=a(94209),o=a(29445),n=a(62190),s=a(92433);const i={class:"content relative flex h-full flex-col justify-between"},p={class:"text-[16px] text-opacity-80"},g={class:""},c={class:"mr-[4px] font-ali-75 text-[40px]"},m={class:"text-[12px] opacity-60"},d={class:""},y={class:"mr-[4px] font-ali-75 text-[20px]"},b=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"h",-1),u={class:"mr-[4px] font-ali-75 text-[20px]"},x=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"m",-1),f={class:"mr-[4px] inline-block w-[24px] font-ali-75 text-[20px]"},S=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"s",-1),h={class:"clock absolute right-[72px] top-[50%] -translate-y-1/2 book:right-[60px] pad:right-[48px]"},w=(0,r.aZ)({props:{timerStyle:null},setup(e){const t=e,a=(0,s.useTimerYearStore)(),w=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgImageColor,backgroundImage:`url(${(0,n.Em)(t.timerStyle.bgImage.large,"default",532)})`}:{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgColor})),_=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{backgroundColor:`rgba(0, 0, 0, ${t.timerStyle.bgMask/100})`}:{})),k=(0,o.iH)();function v(){const e=112,r=t.timerStyle.fontColor;var l=k.value,o=l.getContext("2d");const n=2*window.devicePixelRatio;l.height=e*n,l.width=e*n,o.scale(n,n),o.font="20px ali-75",o.fillStyle=r;var s=a.percent+"",i=o.measureText(s);o.fillText(s,(e-i.width)/2,56),o.globalAlpha=.6,o.font="16px ali-65";i=o.measureText("%");o.fillText("%",(e-i.width)/2,80);o.globalAlpha=1;let p=-Math.PI/2,g=2*Math.PI*a.percent/100-Math.PI/2;function c(e,t,a){o.beginPath(),o.arc(56,56,44,e,t,!1),o.lineWidth=12,o.strokeStyle=a,o.lineCap="round",o.stroke(),o.closePath()}c(p,g,r),o.globalAlpha=.3,p=g,g=2*Math.PI-Math.PI/2,c(p,g,r)}return(0,r.bv)((()=>{v()})),(0,r.YP)((()=>t.timerStyle.fontColor),(()=>{v()})),(e,t)=>((0,r.wg)(),(0,r.iD)("section",{class:"year-home-large relative h-full bg-cover bg-center bg-no-repeat py-[60px] px-[32px] leading-none transition-[background,color] book:py-[44px] book:px-[28px] pad:py-[32px] pad:px-[24px]",style:(0,l.j5)((0,o.SU)(w))},[(0,r._)("div",{class:"mask absolute inset-0 transition-colors",style:(0,l.j5)((0,o.SU)(_))},null,4),(0,r._)("div",i,[(0,r._)("div",p,[(0,r._)("span",null,(0,l.zw)((0,o.SU)(a).year),1),(0,r._)("span",null,(0,l.zw)("年余额"),1)]),(0,r._)("div",g,[(0,r._)("span",c,(0,l.zw)((0,o.SU)(a).gapTime.d),1),(0,r._)("span",m,(0,l.zw)(((0,o.SU)(a).gapTime.d,"天")),1)]),(0,r._)("div",d,[(0,r._)("span",y,(0,l.zw)((0,o.SU)(a).gapTime.h),1),b,(0,r._)("span",u,(0,l.zw)((0,o.SU)(a).gapTime.m),1),x,(0,r._)("span",f,(0,l.zw)((0,o.SU)(a).gapTime.s<10?`0${(0,o.SU)(a).gapTime.s}`:(0,o.SU)(a).gapTime.s),1),S])]),(0,r._)("div",h,[(0,r._)("canvas",{ref_key:"canvasRef",ref:k,class:"h-[112px] w-[112px]"},null,512)])],4))}})},64673:(e,t,a)=>{a.d(t,{Z:()=>w});var r=a(57268),l=a(94209),o=a(29445),n=a(62190),s=a(92433);const i={class:"content relative flex h-full flex-col justify-between"},p={class:"text-[12px] text-opacity-80"},g={class:""},c={class:"mb-[24px]"},m={class:"mr-[8px] font-ali-75 text-[48px]"},d={class:"text-[12px] opacity-60"},y={class:""},b={class:"mr-[4px] font-ali-75 text-[20px]"},u=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"h",-1),x={class:"mr-[4px] font-ali-75 text-[20px]"},f=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"m",-1),S={class:"mr-[4px] inline-block w-[24px] font-ali-75 text-[20px]"},h=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"s",-1),w=(0,r.aZ)({props:{timerStyle:null},setup(e){const t=e,a=(0,s.useTimerYearStore)(),w=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgImageColor,backgroundImage:`url(${(0,n.Em)(t.timerStyle.bgImage.medium,"default",236)})`}:{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgColor})),_=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{backgroundColor:`rgba(0, 0, 0, ${t.timerStyle.bgMask/100})`}:{}));return(e,t)=>((0,r.wg)(),(0,r.iD)("section",{class:"year-home-medium relative h-full bg-cover bg-center bg-no-repeat p-[28px] leading-none transition-[background,color] book:p-[24px] pad:p-[20px]",style:(0,l.j5)((0,o.SU)(w))},[(0,r._)("div",{class:"mask absolute inset-0 transition-colors",style:(0,l.j5)((0,o.SU)(_))},null,4),(0,r._)("div",i,[(0,r._)("div",p,[(0,r._)("span",null,(0,l.zw)((0,o.SU)(a).year),1),(0,r._)("span",null,(0,l.zw)("年余额"),1)]),(0,r._)("div",g,[(0,r._)("div",c,[(0,r._)("span",m,(0,l.zw)((0,o.SU)(a).gapTime.d),1),(0,r._)("span",d,(0,l.zw)(((0,o.SU)(a).gapTime.d,"天")),1)]),(0,r._)("div",y,[(0,r._)("span",b,(0,l.zw)((0,o.SU)(a).gapTime.h),1),u,(0,r._)("span",x,(0,l.zw)((0,o.SU)(a).gapTime.m),1),f,(0,r._)("span",S,(0,l.zw)((0,o.SU)(a).gapTime.s<10?`0${(0,o.SU)(a).gapTime.s}`:(0,o.SU)(a).gapTime.s),1),h])])])],4))}})},29082:(e,t,a)=>{a.d(t,{Z:()=>_});var r=a(57268),l=a(94209),o=a(29445),n=a(62190),s=a(92433);const i={class:"content relative flex h-full flex-col items-center justify-between leading-none"},p={class:"flex items-center justify-center text-[12px] text-opacity-80"},g=(0,r._)("div",{class:"mr-[8px] h-[1px] w-[36px] opacity-20 book:w-[28px] pad:w-[16px]",style:{"background-color":"currentColor"}},null,-1),c={class:""},m=(0,r._)("div",{class:"ml-[8px] h-[1px] w-[36px] opacity-20 book:w-[28px] pad:w-[16px]",style:{"background-color":"currentColor"}},null,-1),d={class:""},y={class:"mr-[4px] font-ali-75 text-[18px]"},b=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"d",-1),u={class:"mr-[4px] font-ali-75 text-[18px]"},x=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"h",-1),f={class:"mr-[4px] font-ali-75 text-[18px]"},S=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"m",-1),h={class:"mr-[4px] inline-block w-[20px] font-ali-75 text-[18px]"},w=(0,r._)("span",{class:"mr-[8px] text-[12px] opacity-60"},"s",-1),_=(0,r.aZ)({props:{timerStyle:null},setup(e){const t=e,a=(0,s.useTimerYearStore)(),_=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgImageColor,backgroundImage:`url(${(0,n.Em)(t.timerStyle.bgImage.small,"default",236)})`}:{color:t.timerStyle.fontColor,backgroundColor:t.timerStyle.bgColor})),k=(0,r.Fl)((()=>"image"===t.timerStyle.bgType?{backgroundColor:`rgba(0, 0, 0, ${t.timerStyle.bgMask/100})`}:{}));return(e,t)=>((0,r.wg)(),(0,r.iD)("section",{class:"year-home-small relative h-full bg-cover bg-center bg-no-repeat pt-[16px] pb-[26px] transition-[background,color] book:pt-[12px] book:pb-[20px] pad:pt-[8px] pad:pb-[12px]",style:(0,l.j5)((0,o.SU)(_))},[(0,r._)("div",{class:"mask absolute inset-0 transition-colors",style:(0,l.j5)((0,o.SU)(k))},null,4),(0,r._)("div",i,[(0,r._)("div",p,[g,(0,r._)("div",c,[(0,r._)("span",null,(0,l.zw)((0,o.SU)(a).year),1),(0,r._)("span",null,(0,l.zw)("年余额"),1)]),m]),(0,r._)("div",d,[(0,r._)("span",y,(0,l.zw)((0,o.SU)(a).gapTime.d),1),b,(0,r._)("span",u,(0,l.zw)((0,o.SU)(a).gapTime.h),1),x,(0,r._)("span",f,(0,l.zw)((0,o.SU)(a).gapTime.m),1),S,(0,r._)("span",h,(0,l.zw)((0,o.SU)(a).gapTime.s<10?`0${(0,o.SU)(a).gapTime.s}`:(0,o.SU)(a).gapTime.s),1),w])])],4))}})}}]);