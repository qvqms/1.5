"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[1568,1785],{9042:(t,e,o)=>{o.d(e,{C:()=>n});var i=o(29445),s=o(57268);const n=(t,e,o)=>{const n=(0,i.iH)(t);e.onChangeState=t=>{n.value={...t}};const d=(0,s.Fl)((()=>o?o[n.value.size]:null));return{propsState:n,HomeComp:d}}},22469:(t,e,o)=>{o.d(e,{$:()=>n,U:()=>d});var i=o(45911),s=o(6364);const n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.style.height="auto";const i=t.scrollHeight;t.style.height=`${i>e?e:i<o?o:i}px`};const d=new class{constructor(){window.addEventListener("resize",this.resize)}widthRecord=[1920,1920];pushRecord(t){this.widthRecord.push(t),this.widthRecord.shift()}callbackMap=new Map;register(t,e){this.callbackMap.set(t,e)}unRegister(t){this.callbackMap.delete(t)}cxecutor(){this.callbackMap.forEach((t=>{t()}))}resize=(0,i.Z)((()=>{const t=document.body.clientWidth;this.pushRecord(t),(0,s.Z)(this.widthRecord)<1024&&this.cxecutor()}),30)}},44554:(t,e,o)=>{o.r(e),o.d(e,{mountHome:()=>h,widgetApp:()=>r});var i=o(29445),s=o(68398),n=o(57268),d=o(71390);const a=(0,n.aZ)({props:{size:null,id:null},setup(t){const e=t,{HomeComp:o}=(0,d.Td)(e),{clickWidget:s}=(0,d.dd)();return(t,e)=>((0,n.wg)(),(0,n.iD)("section",{class:"contents cursor-pointer",onClick:e[0]||(e[0]=function(){return(0,i.SU)(s)&&(0,i.SU)(s)(...arguments)})},[((0,n.wg)(),(0,n.j4)((0,n.LL)((0,i.SU)(o))))]))}});var l=o(94974),c=o(58693);const r=(0,i.iH)(null),h=(t,e)=>{const o=(0,s.ri)(a,e);return(0,c.f)(o),r.value=o,o.use(l.M),o.mount(t),r.value}},31785:(t,e,o)=>{o.r(e),o.d(e,{useTodoStore:()=>l});var i=o(59590),s=o(62190),n=o(10435);const d=o(20918).sM?[{id:"todogroup-1",updateTime:0,name:"æ—¥å¸¸è®¡åˆ’",iconClass:"",children:[{id:"todo1-1",content:"ðŸ‘¶ ä»Šå¤©ä¸‹åˆ4:00åŽ»å¹¼å„¿å›­æŽ¥å°å„¿å­ï¼Œåƒä¸‡åˆ«è¿Ÿåˆ°",finished:!1,updateTime:0},{id:"todo1-2",content:"ðŸš— æŽ¥å®Œä¸œä¸œåŽï¼ŒåŽ»é›†å¸‚ä¹°å¹²è¾£æ¤’å’Œæ´—è¡£æ¶²",finished:!1,updateTime:0},{id:"todo1-3",content:"ðŸ‘œ æ™šä¸Šç»™çˆ¸å¦ˆæ‰“ç”µè¯åœ¨ç½‘ä¸Šä¹°ç‚¹ä¸œè¥¿",finished:!1,updateTime:0},{id:"todo1-4",content:"âœˆï¸ é¢„å®šä¸‹å‘¨åŽ»åŒ—äº¬çš„æœºç¥¨",finished:!1,updateTime:0},{id:"todo1-5",content:"ðŸŽ ç»™è€å©†ä¹°ç”Ÿæ—¥ç¤¼ç‰©",finished:!0,updateTime:0}]},{id:"todogroup-2",updateTime:0,name:"å·¥ä½œè®¡åˆ’",iconClass:"",children:[{id:"todo2-1",content:"ä¸Šåˆ10:30é¡¹ç›®å¼€ä¼šï¼Œè®¨è®ºæ–°äº§å“åŽç»­è°ƒæ•´è®¡åˆ’",finished:!1,updateTime:0},{id:"todo2-2",content:"ä¸‹åˆ4:30é’ˆå¯¹ä¸Šåˆä¼šè®®è¿›è¡Œç®€è¦æ±‡æŠ¥",finished:!1,updateTime:0}]}]:[{id:"todogroup-1",updateTime:0,name:"æ—¥å¸¸è®¡åˆ’",iconClass:"",children:[{id:"todo1-1",content:"Go to the bank at 2pm.",finished:!1,updateTime:0},{id:"todo1-2",content:"Date Henry at 7pm, don't be late.",finished:!1,updateTime:0},{id:"todo1-3",content:"Go to the hospital to visit my aunt at 10am.",finished:!1,updateTime:0},{id:"todo1-4",content:"Book flight to Manchester next week.",finished:!1,updateTime:0},{id:"todo1-5",content:"Prepare Christmas gifts for kids.",finished:!0,updateTime:0}]},{id:"todogroup-2",updateTime:0,name:"å·¥ä½œè®¡åˆ’",iconClass:"",children:[{id:"todo2-1",content:"Have a meeting with Kelly at 10am to discuss the plan, remember to bring materials.",finished:!1,updateTime:0},{id:"todo2-2",content:"Go to the factory for inspection at 3pm.",finished:!1,updateTime:0}]}],a=["rgba(255, 201, 104, 1)","rgba(152, 216, 93, 1)","rgba(255, 151, 101, 1)","rgba(133, 83, 255, 1)","rgba(146, 165, 255, 1)","rgba(212, 212, 212, 1)"],l=(0,n.Q_)(i.BU.todo,{syncStorage:{watch:["todos"]},syncCloud:{watch:["todos"]},state:()=>({todos:d,modalShow:!1,finishedShow:!1,activeGroupIndex:0,searchValue:"",activeSearch:!1,needTransition:!1}),getters:{allList(){return this.todos.reduce(((t,e)=>(e.children.forEach((e=>{t.push(e)})),t)),[])},finishedAllList(){return this.allList.filter((t=>t.finished))},unfinishedAllList(){return this.allList.filter((t=>!t.finished))},homeList(){return this.unfinishedAllList.map(((t,e)=>({...t,color:a[e]})))},finishedGroupList(){return 0===this.todos.length||"number"!=typeof this.activeGroupIndex?[]:this.todos[this.activeGroupIndex].children.filter((t=>t.finished))},unfinishedGroupList(){return 0===this.todos.length||"number"!=typeof this.activeGroupIndex?[]:this.todos[this.activeGroupIndex].children.filter((t=>!t.finished))},finishedList(){return this.activeSearch?this.finishedAllList.filter((t=>t.content.toLowerCase().includes(this.searchValue.toLowerCase()))):this.finishedGroupList},unfinishedList(){return this.activeSearch?this.unfinishedAllList.filter((t=>t.content.toLowerCase().includes(this.searchValue.toLowerCase()))):this.unfinishedGroupList}},actions:{setNeedTransition(t){this.needTransition=t},setSearchValue(t){t?(this.setNeedTransition(!1),this.activeSearch=!0):this.activeSearch=!1,this.searchValue=t},setModal(t){this.modalShow=t},setFinishedShow(t){this.finishedShow=t},clearCompleted(){this.finishedList.forEach((t=>{this.deleteTodo(t.id,!1)})),this.todos=[...this.todos]},saveGroup(t){let{id:e,name:o,iconClass:i}=t;e?this.todos.some((t=>{if(t.id===e)return t.name=o,t.iconClass=i,t.updateTime=Date.now(),!0})):this.todos.push({id:(0,s.kb)("todogroup-"),iconClass:i,name:o,updateTime:Date.now(),children:[]}),this.todos=[...this.todos]},deleteGroup(t){this.setNeedTransition(!1);const e=this.todos.findIndex((e=>e.id===t));e>-1&&(this.todos.splice(e,1),"number"==typeof this.activeGroupIndex&&this.activeGroupIndex>this.todos.length-1&&(this.activeGroupIndex=this.todos.length-1),0===this.todos.length?(this.saveGroup({name:"æ–°å»ºåˆ—è¡¨",iconClass:""}),this.selectGroup(0)):this.todos=[...this.todos])},selectGroup(t){this.setNeedTransition(!1),this.activeGroupIndex=t,this.activeSearch=!1},findTodoIndexes(t){let e,o;return this.todos.some(((i,s)=>i.children.some(((i,n)=>i.id===t&&(e=s,o=n,!0))))),"number"==typeof o?[e,o]:null},saveTodo(t){this.setNeedTransition(!0);const e=Date.now();if(t.id){const o=this.findTodoIndexes(t.id);if(o){const[i,s]=o;Object.assign(this.todos[i].children[s],{...t,updateTime:e}),this.todos[i].updateTime=e}}else"number"==typeof this.activeGroupIndex&&(this.todos[this.activeGroupIndex].children.push({...t,id:(0,s.kb)("todo-"),updateTime:e}),this.todos[this.activeGroupIndex].updateTime=e);this.todos=[...this.todos]},deleteTodo(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setNeedTransition(!0);const o=this.findTodoIndexes(t);if(o){const[t,i]=o;this.todos[t].children.splice(i,1),this.todos[t].updateTime=Date.now(),!0===e&&(this.todos=[...this.todos])}}}})},71390:(t,e,o)=>{o.d(e,{Yt:()=>P,dd:()=>O,TW:()=>$,Iz:()=>X,Td:()=>W,gT:()=>q});var i=o(57268),s=o(94209);const n=t=>((0,i.dD)("data-v-298c5e75"),t=t(),(0,i.Cn)(),t),d={class:"todo-small flex h-full w-full items-center bg-color-b4 bg-contain bg-right bg-no-repeat"},a=n((()=>(0,i._)("div",{class:"icon ml-[24px] h-[40px] w-[40px] rounded-[8px] bg-cover book:ml-[16px] pad:ml-[10px]"},null,-1))),l={class:"ml-[16px] book:ml-[12px] pad:ml-[10px]"},c=n((()=>(0,i._)("div",{class:"font-ali-65 text-[16px] text-color-todo-t1"},"To do",-1))),r={class:"flex items-center text-[12px] text-color-todo-t2"},h={class:"mr-[3px]"},u=n((()=>(0,i._)("i",{class:"iconfont icon-more_icon"},null,-1))),p=(0,i.aZ)({setup:t=>(t,e)=>((0,i.wg)(),(0,i.iD)("section",d,[a,(0,i._)("div",l,[c,(0,i._)("div",r,[(0,i._)("span",h,(0,s.zw)("æ–°å»ºè®¡åˆ’"),1),u])])]))});var m=o(76911);const x=(0,m.Z)(p,[["__scopeId","data-v-298c5e75"]]);var f=o(29445),v=o(10865),g=o(31785);const w={class:"todo-home-item flex items-center"},b={class:"ml-[8px] overflow-hidden text-ellipsis whitespace-nowrap font-ali-55 text-[12px] text-color-t2"},T=(0,i.aZ)({props:{todo:null},setup(t){const e=t;return(t,o)=>((0,i.wg)(),(0,i.iD)("section",w,[(0,i._)("div",{class:"h-[10px] w-[4px] shrink-0 rounded-[2px]",style:(0,s.j5)("background-color:"+e.todo.color)},null,4),(0,i._)("div",b,(0,s.zw)(e.todo.content),1)]))}}),S={class:"todo-medium h-full w-full items-center bg-color-b4"},A=(t=>((0,i.dD)("data-v-510b67da"),t=t(),(0,i.Cn)(),t))((()=>(0,i._)("div",{class:"header m-auto flex h-[28px] w-[120px] items-center justify-center bg-no-repeat text-center text-color-white book:h-[24px] pad:h-[20px]"},[(0,i._)("span",{class:"leading-none"},"To do"),(0,i._)("img",{class:"h-[16px] w-[16px]",src:v,alt:""})],-1))),k={class:"mt-[16px] flex flex-col px-[20px] book:mt-[12px] book:px-[16px] pad:px-[12px]"},C=(0,i.aZ)({setup(t){const e=(0,g.useTodoStore)();return(t,o)=>((0,i.wg)(),(0,i.iD)("section",S,[A,(0,i._)("div",k,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(e).homeList,(t=>((0,i.wg)(),(0,i.j4)(T,{key:t.id,class:"mb-[13px] book:mb-[9px] pad:mb-[5px]",todo:t},null,8,["todo"])))),128))])]))}}),G=(0,m.Z)(C,[["__scopeId","data-v-510b67da"]]),_=t=>((0,i.dD)("data-v-c9906508"),t=t(),(0,i.Cn)(),t),I={class:"todo-large flex h-full w-full items-center bg-color-b4"},L={class:"flex h-full w-[200px] shrink-0 flex-col justify-between border-r-[1px] border-color-t1 border-opacity-[0.06] bg-color-b3 p-[24px] book:w-[172px] book:p-[20px] pad:w-[152px] pad:p-[16px]"},y=_((()=>(0,i._)("div",{class:"icon ml-[-4px] h-[56px] w-[60px]"},null,-1))),D={class:"leading-none"},M=_((()=>(0,i._)("span",{class:"text-[18px] text-color-todo-t2"},"To do",-1))),z={class:"mt-[8px]"},H={class:"inline-block font-ali-75 text-[40px] text-color-todo-t1"},Z={class:"ml-[8px] text-[12px] text-color-todo-t2"},E={class:"h-full overflow-hidden p-[20px]"},F={class:"flex items-center text-[12px] text-color-todo-t2"},J={class:"mr-[3px]"},U=_((()=>(0,i._)("i",{class:"iconfont icon-more_icon"},null,-1))),N={class:"mt-[20px] flex flex-col pad:mt-[16px]"},R=(0,i.aZ)({setup(t){const e=(0,g.useTodoStore)();return(t,o)=>((0,i.wg)(),(0,i.iD)("section",I,[(0,i._)("div",L,[y,(0,i._)("div",D,[M,(0,i._)("div",z,[(0,i._)("span",H,(0,s.zw)((0,f.SU)(e).unfinishedAllList.length),1),(0,i._)("span",Z,(0,s.zw)(((0,f.SU)(e).unfinishedAllList.length,"æ¡è®°å½•")),1)])])]),(0,i._)("div",E,[(0,i._)("div",F,[(0,i._)("span",J,(0,s.zw)("æ–°å»ºè®¡åˆ’"),1),U]),(0,i._)("div",N,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,f.SU)(e).homeList,((t,e)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t.id},[e<5?((0,i.wg)(),(0,i.j4)(T,{key:0,class:"mb-[13px] last:mb-0 book:mb-[9px] pad:mb-[5px]",todo:t},null,8,["todo"])):(0,i.kq)("",!0)],64)))),128))])])]))}}),V=(0,m.Z)(R,[["__scopeId","data-v-c9906508"]]);var Y=o(44554),K=o(9042),B=o(10435),j=o(22469),Q=o(48885);const W=t=>{const e={s:x,m:G,l:V};return(0,K.C)(t,Y.widgetApp.value,e)},O=()=>{const t=(0,g.useTodoStore)();return{clickWidget:()=>{t.setModal(!0)},onCloseModal:()=>{t.setModal(!1)},show:(0,B.Jk)(t).modalShow}},X=()=>{const t=(0,g.useTodoStore)(),e=(0,B.Jk)(t);return{searchValue:(0,i.Fl)({get:()=>t.searchValue,set(e){t.setSearchValue(e)}}),clickGroup:e=>{t.selectGroup(e)},addGroup:(0,Q.Z)((()=>{t.saveGroup({name:"æ–°å»ºåˆ—è¡¨",iconClass:""});const e=t.todos.length-1;t.selectGroup(e)}),1e3,{leading:!0,trailing:!1}),editActive:e=>{const o=t.activeGroupIndex;"number"==typeof o&&e[o].focus()},customGroup:e.todos,activeGroupIndex:e.activeGroupIndex,activeSearch:e.activeSearch}},P=()=>{const t=(0,f.iH)(!1),e=(0,g.useTodoStore)();return{editMode:t,onClick:o=>{e.activeGroupIndex===o&&(t.value=!0)},onBlur:(o,i)=>{const s=o.target.value;s?e.saveGroup({...i,name:s}):o.target.value=i.name,t.value=!1}}},$=()=>{const t=(0,g.useTodoStore)(),e=(0,B.Jk)(t),o=(0,i.Fl)((()=>t.finishedShow?t.unfinishedList.concat(t.finishedList):t.unfinishedList)),s=(0,i.Fl)((()=>t.activeSearch?"æœç´¢ç»“æžœ":t.todos.length>0&&"number"==typeof t.activeGroupIndex?t.todos[t.activeGroupIndex].name:"")),n=(0,i.Fl)((()=>t.finishedList.length)),d=(0,f.iH)("");return{title:s,list:o,completed:n,finishedShow:e.finishedShow,changeFinishedShow:()=>{t.setFinishedShow(!t.finishedShow)},clearCompleted:()=>{t.clearCompleted()},newTodoContent:d,addTodo:e=>{d.value&&(t.saveTodo({content:d.value,finished:!1}),d.value="",(0,i.Y3)((()=>{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})})))}}},q=()=>{const t=(0,g.useTodoStore)(),e=(0,f.iH)(!1);return{editMode:e,onClick:()=>{e.value=!0},onBlur:(o,i)=>{const s=o.target.value;t.saveTodo({...i,content:s}),e.value=!1},clickFinish:e=>{t.saveTodo({...e,finished:!e.finished})},inputChange:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,j.$)(t,e,o)}}}},10865:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAJhJREFUWEftldEJgDAQQ5M9dCAXcSgXcSDdIyJYKIKeVrEI6XdL0tfkSlRerKwPGzABEygmIKkDMGw17kmOJZV+YmAC0GyiM8n2awPKBUkWXabo0CosyQa+IZClPQXuatZmAGE7wgxIytN+VTztC9vxCwNp4NR5giPmrqEJ7OoZ1u0oS2ENT0JY9zu+O5FeJ2ADJmACbxFYAOWJSiG3ulSgAAAAAElFTkSuQmCC"}}]);