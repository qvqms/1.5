"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[2433],{40295:(a,e,t)=>{t.d(e,{O9:()=>b,ST:()=>h,dJ:()=>D,f8:()=>$,hQ:()=>k,t4:()=>l,zY:()=>u});var r=t(57468),n=t(80661),o=t.n(n),g=t(20918),d=t(62190),i=t(55332);const b={font:["rgba(248, 248, 248, 1)","rgba(28, 28, 30, 1)","rgba(58, 58, 60, 1)","rgba(95, 95, 99, 1)","rgba(142, 142, 147, 1)","rgba(176, 176, 182, 1)","rgba(199, 199, 204, 1)"],background:["rgba(248, 248, 248, 1)","rgba(58, 58, 60, 1)","rgba(28, 28, 30, 1)","rgba(244, 171, 18, 1)","rgba(74, 197, 92, 1)","rgba(35, 207, 168, 1)","rgba(67, 133, 241, 1)","rgba(56, 100, 255, 1)","rgba(118, 33, 249, 1)","rgba(224, 78, 150, 1)","rgba(224, 78, 78, 1)","rgba(253, 90, 90, 1)","rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"]},s=["rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"],u=()=>(0,r.Z)(s),l=Array(20).fill(0).map(((a,e)=>{const t=`${e+1}`.padStart(2,"0");return{bgImage:{large:`${g.c1}/widget-background/background${t}_larg.jpg`,medium:`${g.c1}/widget-background/background${t}_medium.jpg`,small:`${g.c1}/widget-background/background${t}_small.jpg`},thumbnail:`${g.c1}/widget-background/background${t}.jpg`}})),f=(a,e)=>{let t=!1;a.isLeapYear()&&1===a.month()&&29===a.date()&&(t=!0);let r=(0,d.sG)(a.format(`${e}-MM-DD`));return t&&!r.isLeapYear()&&(r=r.add(-1,"day")),r.valueOf()>=p.valueOf()||(r=(0,d.sG)(a.format(`${e+1}-MM-DD`)),t&&!r.isLeapYear()&&(r=r.add(-1,"day"))),r},c=a=>{const e=i.q7.fromDate(new Date(a)),t=i.q7.fromDate(new Date).getYear(),r=o()((0,d.EJ)({year:t,month:e.getMonth(),day:e.getDay()}));return r.valueOf()>=p.valueOf()?r:o()((0,d.EJ)({year:t+1,month:e.getMonth(),day:e.getDay()}))},y=a=>{if(a.date()>=p.date())return(0,d.sG)(`${p.year()}-${p.month()+1}-${Math.min(p.daysInMonth(),a.date())}`);const e=p.add(1,"month");return(0,d.sG)(`${e.year()}-${e.month()+1}-${Math.min(e.daysInMonth(),a.date())}`)},m=a=>{const e=i.q7.fromDate(new Date),t=i.q7.fromDate(new Date(a)),r=e.getDay(),n=t.getDay();if(n>=r)return o()((0,d.EJ)({year:e.getYear(),month:e.getMonth(),day:n}));const g=i.o7.fromYm(e.getYear(),e.getMonth()).next(1);return o()((0,d.EJ)({year:g.getYear(),month:g.getMonth(),day:n}))},h=a=>{const e=Date.now(),t=o()().endOf("day").valueOf()+1;return window.setTimeout((()=>{try{a(t),h(a)}catch(a){}}),t-e)};let p=o()().startOf("day"),w=p.year();h((()=>{p=o()(),w=p.year()}));const D=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!a)return 0;if(a>=p.valueOf())return o()(a).diff(p,"day");if("lunar"===e){return m(a).diff(p,"day")}const t=o()(a),r=y(t),n=r.diff(p,"day");return n},k=function(a){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!a)return 0;if(a>=p.valueOf())return o()(a).diff(p,"day");if("lunar"===e){return c(a).diff(p,"day")}const t=o()(a),r=f(t,w),n=r.diff(p,"day");return n},$=a=>{const e=Math.floor(a/86400);a-=86400*e;const t=Math.floor(a/3600)%24;a-=3600*t;const r=Math.floor(a/60)%60;return{d:e,h:t,m:r,s:(a-=60*r)%60}}},89043:(a,e,t)=>{t.d(e,{S:()=>n});var r=t(20918);const n={fontColor:"rgba(248, 248, 248, 1)",bgType:"image",bgColor:(0,t(40295).zY)(),bgImageColor:"",bgImage:{large:`${r.c1}/widget-background/background18_larg.jpg`,medium:`${r.c1}/widget-background/background18_medium.jpg`,small:`${r.c1}/widget-background/background18_small.jpg`},bgMask:20}},92433:(a,e,t)=>{t.r(e),t.d(e,{useTimerYearStore:()=>y,widgetInfo:()=>s});var r=t(10435),n=t(89043),o=t(43747),g=t(40295),d=t(80661),i=t.n(d),b=t(59590);const s=(0,o.E0)("widget-timer-year"),u=()=>i()().endOf("year").valueOf(),l=a=>{const e=i()(a+1).diff(i()(),"second");return(0,g.f8)(e)},f=()=>{const a=i()(),e=a.endOf("year").diff(a.startOf("year"),"day")+1,t=a.diff(a.startOf("year"),"day");return Number((t/e*100).toFixed(2))},c=u(),y=(0,r.Q_)(b.BU.timerYear,{syncStorage:{watch:["timerStyle"]},syncCloud:{watch:["timerStyle"]},state:()=>({modalShow:!1,modalState:{size:"s",openType:"add"},timerStyle:n.S,yearEndTime:c,year:i()().year(),gapTime:l(c),percent:f()}),actions:{updateDay(){this.yearEndTime=u(),this.year=i()().year(),this.percent=f()},updateGapDate(){this.gapTime=l(this.yearEndTime)},openModal(a){this.modalState=a,this.modalShow=!0},closeModal(){this.modalShow=!1},saveStyle(a){this.timerStyle={...a}}}});(0,g.ST)((()=>{y().updateDay()})),setInterval((()=>{y().updateGapDate()}),1e3)}}]);